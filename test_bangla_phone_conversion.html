<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ ‡¶´‡ßã‡¶® ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞ ‡¶ï‡¶®‡¶≠‡¶æ‡¶∞‡ßç‡¶∂‡¶® ‡¶ü‡ßá‡¶∏‡ßç‡¶ü</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root {
            --primary-color: #930000;
            --white: #ffffff;
            --secondary-color: #6c757d;
            --border-color: #dee2e6;
            --border-radius: 8px;
            --success-color: #28a745;
            --danger-color: #dc3545;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
            min-height: 100vh;
            margin: 0;
            padding: 20px;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            padding: 3rem;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        }

        .title {
            text-align: center;
            color: var(--primary-color);
            font-size: 2.5rem;
            margin-bottom: 2rem;
            font-weight: 700;
        }

        .test-section {
            margin-bottom: 3rem;
        }

        .section-title {
            color: var(--primary-color);
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid var(--primary-color);
        }

        .form-group {
            margin-bottom: 2rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
            color: var(--secondary-color);
        }

        .form-group input {
            width: 100%;
            padding: 1rem;
            border: 2px solid var(--border-color);
            border-radius: var(--border-radius);
            font-size: 1.2rem;
            transition: all 0.3s ease;
            box-sizing: border-box;
        }

        .form-group input:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(147, 0, 0, 0.1);
        }

        .field-error {
            color: var(--danger-color);
            font-size: 0.9rem;
            margin-top: 0.5rem;
            display: none;
        }

        .field-error.show {
            display: block;
        }

        .conversion-demo {
            background: #f8f9fa;
            padding: 2rem;
            border-radius: 12px;
            margin-bottom: 2rem;
            border-left: 4px solid var(--primary-color);
        }

        .demo-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            margin-top: 1rem;
        }

        .demo-item {
            background: white;
            padding: 1.5rem;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        .demo-item h4 {
            margin: 0 0 1rem 0;
            color: var(--primary-color);
        }

        .demo-number {
            font-size: 1.5rem;
            font-weight: bold;
            padding: 0.5rem;
            background: #e9ecef;
            border-radius: 4px;
            text-align: center;
            margin-bottom: 0.5rem;
        }

        .arrow {
            text-align: center;
            font-size: 2rem;
            color: var(--primary-color);
            margin: 1rem 0;
        }

        .result {
            padding: 1rem;
            border-radius: 8px;
            margin-top: 1rem;
            font-weight: 600;
        }

        .result.success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }

        .result.error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }

        .test-cases {
            display: grid;
            gap: 1rem;
        }

        .test-case {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .test-input {
            font-weight: bold;
            color: var(--secondary-color);
        }

        .test-output {
            font-weight: bold;
            color: var(--primary-color);
        }

        .info-box {
            background: #d1ecf1;
            color: #0c5460;
            padding: 1.5rem;
            border-radius: 8px;
            border: 1px solid #bee5eb;
            margin-bottom: 2rem;
        }

        .info-box h4 {
            margin: 0 0 1rem 0;
        }

        .info-box ul {
            margin: 0;
            padding-left: 1.5rem;
        }

        .info-box li {
            margin-bottom: 0.5rem;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1 class="title">üì± ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ ‡¶´‡ßã‡¶® ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞ ‡¶ï‡¶®‡¶≠‡¶æ‡¶∞‡ßç‡¶∂‡¶® ‡¶ü‡ßá‡¶∏‡ßç‡¶ü</h1>
        
        <div class="info-box">
            <h4>üéØ ‡¶è‡¶á ‡¶ü‡ßá‡¶∏‡ßç‡¶ü ‡¶™‡ßá‡¶ú ‡¶ï‡ßÄ ‡¶ï‡¶∞‡ßá:</h4>
            <ul>
                <li><strong>‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ ‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ ‡¶•‡ßá‡¶ï‡ßá ‡¶á‡¶Ç‡¶∞‡ßá‡¶ú‡¶ø ‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ‡¶Ø‡¶º ‡¶∞‡ßÇ‡¶™‡¶æ‡¶®‡ßç‡¶§‡¶∞</strong> - ‡ß¶‡ßß‡ß®‡ß©‡ß™‡ß´‡ß¨‡ß≠‡ßÆ‡ßØ ‚Üí 0123456789</li>
                <li><strong>‡¶∞‡¶ø‡¶Ø‡¶º‡ßá‡¶≤-‡¶ü‡¶æ‡¶á‡¶Æ ‡¶ï‡¶®‡¶≠‡¶æ‡¶∞‡ßç‡¶∂‡¶®</strong> - ‡¶ü‡¶æ‡¶á‡¶™ ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶∏‡¶æ‡¶•‡ßá ‡¶∏‡¶æ‡¶•‡ßá ‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶®</li>
                <li><strong>‡¶´‡ßã‡¶® ‡¶®‡¶Æ‡ßç‡¶¨‡¶æ‡¶∞ ‡¶≠‡ßç‡¶Ø‡¶æ‡¶≤‡¶ø‡¶°‡ßá‡¶∂‡¶®</strong> - ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ‡¶¶‡ßá‡¶∂‡¶ø ‡¶´‡¶∞‡¶Æ‡ßç‡¶Ø‡¶æ‡¶ü ‡¶ö‡ßá‡¶ï</li>
                <li><strong>‡¶Ö‡¶ü‡ßã-‡¶®‡¶∞‡¶Æ‡¶æ‡¶≤‡¶æ‡¶á‡¶ú‡ßá‡¶∂‡¶®</strong> - ‡¶∏‡ßç‡¶ü‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶°‡¶æ‡¶∞‡ßç‡¶° ‡¶´‡¶∞‡¶Æ‡ßç‡¶Ø‡¶æ‡¶ü‡ßá ‡¶∞‡ßÇ‡¶™‡¶æ‡¶®‡ßç‡¶§‡¶∞</li>
            </ul>
        </div>

        <div class="test-section">
            <h3 class="section-title">üîÑ ‡¶∞‡¶ø‡¶Ø‡¶º‡ßá‡¶≤-‡¶ü‡¶æ‡¶á‡¶Æ ‡¶ï‡¶®‡¶≠‡¶æ‡¶∞‡ßç‡¶∂‡¶® ‡¶ü‡ßá‡¶∏‡ßç‡¶ü</h3>
            
            <div class="form-group">
                <label for="phone_test">üì± ‡¶´‡ßã‡¶® ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞ ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶® (‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ ‡¶¨‡¶æ ‡¶á‡¶Ç‡¶∞‡ßá‡¶ú‡¶ø):</label>
                <input type="tel" id="phone_test" placeholder="‡¶â‡¶¶‡¶æ‡¶π‡¶∞‡¶£: ‡ß¶‡ßß‡ß≠‡ß≠‡ß≠‡ßß‡ß≠‡ß©‡ß¶‡ß™‡ß¶ ‡¶¨‡¶æ 01777173040">
                <div class="field-error" id="phone_test_error"></div>
            </div>

            <div class="result" id="conversion_result" style="display: none;"></div>
        </div>

        <div class="test-section">
            <h3 class="section-title">üìã ‡¶ï‡¶®‡¶≠‡¶æ‡¶∞‡ßç‡¶∂‡¶® ‡¶â‡¶¶‡¶æ‡¶π‡¶∞‡¶£</h3>
            
            <div class="conversion-demo">
                <h4>‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ ‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ ‚Üí ‡¶á‡¶Ç‡¶∞‡ßá‡¶ú‡¶ø ‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ</h4>
                <div class="demo-grid">
                    <div class="demo-item">
                        <h4>‡¶á‡¶®‡¶™‡ßÅ‡¶ü (‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ)</h4>
                        <div class="demo-number">‡ß¶‡ßß‡ß≠‡ß≠‡ß≠‡ßß‡ß≠‡ß©‡ß¶‡ß™‡ß¶</div>
                    </div>
                    <div class="demo-item">
                        <h4>‡¶Ü‡¶â‡¶ü‡¶™‡ßÅ‡¶ü (‡¶á‡¶Ç‡¶∞‡ßá‡¶ú‡¶ø)</h4>
                        <div class="demo-number">01777173040</div>
                    </div>
                </div>
                <div class="arrow">‚û°Ô∏è</div>
            </div>
        </div>

        <div class="test-section">
            <h3 class="section-title">üß™ ‡¶ü‡ßá‡¶∏‡ßç‡¶ü ‡¶ï‡ßá‡¶∏‡¶ó‡ßÅ‡¶≤‡¶ø</h3>
            
            <div class="test-cases" id="test_cases">
                <!-- Test cases will be populated by JavaScript -->
            </div>
        </div>
    </div>

    <script>
        // Bangla to English digit conversion
        function convertBanglaToEnglishDigits(text) {
            if (!text) return '';
            
            const banglaToEnglish = {
                '‡ß¶': '0', '‡ßß': '1', '‡ß®': '2', '‡ß©': '3', '‡ß™': '4',
                '‡ß´': '5', '‡ß¨': '6', '‡ß≠': '7', '‡ßÆ': '8', '‡ßØ': '9'
            };
            
            // Convert each Bangla digit to English
            for (const [bangla, english] of Object.entries(banglaToEnglish)) {
                text = text.replace(new RegExp(bangla, 'g'), english);
            }
            
            return text;
        }
        
        // Phone number normalization
        function normalizePhoneNumber(phone) {
            if (!phone) return '';
            
            // First convert Bangla digits to English digits
            phone = convertBanglaToEnglishDigits(phone);
            
            // Remove all non-digit characters
            let digits = phone.replace(/\D/g, '');
            
            // Handle different formats
            if (digits.startsWith('880')) {
                digits = '0' + digits.substring(3);
            } else if (digits.startsWith('88')) {
                digits = '0' + digits.substring(2);
            } else if (!digits.startsWith('0')) {
                digits = '0' + digits;
            }
            
            return digits;
        }
        
        // Phone number validation
        function validatePhoneNumber(phone) {
            const normalized = normalizePhoneNumber(phone);
            
            if (normalized.length < 11) {
                return {
                    isValid: false,
                    normalized: normalized,
                    error: '‡¶´‡ßã‡¶® ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞ ‡¶ï‡¶Æ‡¶™‡¶ï‡ßç‡¶∑‡ßá ‡ßß‡ßß ‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ‡¶∞ ‡¶π‡¶§‡ßá ‡¶π‡¶¨‡ßá'
                };
            }
            
            if (!normalized.startsWith('01')) {
                return {
                    isValid: false,
                    normalized: normalized,
                    error: '‡¶¶‡¶Ø‡¶º‡¶æ ‡¶ï‡¶∞‡ßá ‡¶∏‡¶†‡¶ø‡¶ï ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ‡¶¶‡ßá‡¶∂‡¶ø ‡¶´‡ßã‡¶® ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞ ‡¶¶‡¶ø‡¶®'
                };
            }
            
            const finalNumber = normalized.substring(0, 11);
            
            return {
                isValid: true,
                normalized: finalNumber,
                error: null
            };
        }
        
        // Setup real-time conversion and validation
        document.addEventListener('DOMContentLoaded', function() {
            const phoneField = document.getElementById('phone_test');
            const phoneError = document.getElementById('phone_test_error');
            const conversionResult = document.getElementById('conversion_result');
            
            phoneField.addEventListener('input', function() {
                const originalValue = this.value;
                const convertedValue = convertBanglaToEnglishDigits(originalValue);
                
                // Show conversion if it happened
                if (originalValue !== convertedValue) {
                    // Update field value
                    const cursorPosition = this.selectionStart;
                    this.value = convertedValue;
                    this.setSelectionRange(cursorPosition, cursorPosition);
                    
                    // Show conversion result
                    conversionResult.innerHTML = `
                        <strong>üîÑ ‡¶ï‡¶®‡¶≠‡¶æ‡¶∞‡ßç‡¶∂‡¶® ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá:</strong><br>
                        ‡¶á‡¶®‡¶™‡ßÅ‡¶ü: ${originalValue}<br>
                        ‡¶Ü‡¶â‡¶ü‡¶™‡ßÅ‡¶ü: ${convertedValue}
                    `;
                    conversionResult.className = 'result success';
                    conversionResult.style.display = 'block';
                }
                
                // Validate phone number
                if (this.value.trim()) {
                    const validation = validatePhoneNumber(this.value);
                    
                    if (!validation.isValid) {
                        phoneError.textContent = validation.error;
                        phoneError.classList.add('show');
                        this.style.borderColor = 'var(--danger-color)';
                        
                        if (conversionResult.style.display === 'none' || !conversionResult.innerHTML.includes('‡¶ï‡¶®‡¶≠‡¶æ‡¶∞‡ßç‡¶∂‡¶®')) {
                            conversionResult.innerHTML = `<strong>‚ùå ‡¶≠‡ßç‡¶Ø‡¶æ‡¶≤‡¶ø‡¶°‡ßá‡¶∂‡¶® ‡¶§‡ßç‡¶∞‡ßÅ‡¶ü‡¶ø:</strong> ${validation.error}`;
                            conversionResult.className = 'result error';
                            conversionResult.style.display = 'block';
                        }
                    } else {
                        phoneError.classList.remove('show');
                        this.style.borderColor = 'var(--success-color)';
                        
                        if (conversionResult.style.display === 'none' || !conversionResult.innerHTML.includes('‡¶ï‡¶®‡¶≠‡¶æ‡¶∞‡ßç‡¶∂‡¶®')) {
                            conversionResult.innerHTML = `
                                <strong>‚úÖ ‡¶∏‡¶´‡¶≤!</strong><br>
                                ‡¶®‡¶∞‡¶Æ‡¶æ‡¶≤‡¶æ‡¶á‡¶ú‡¶°: ${validation.normalized}
                            `;
                            conversionResult.className = 'result success';
                            conversionResult.style.display = 'block';
                        }
                    }
                } else {
                    phoneError.classList.remove('show');
                    this.style.borderColor = 'var(--border-color)';
                    conversionResult.style.display = 'none';
                }
            });
            
            phoneField.addEventListener('blur', function() {
                if (this.value) {
                    const validation = validatePhoneNumber(this.value);
                    this.value = validation.normalized;
                }
            });
            
            // Populate test cases
            populateTestCases();
        });
        
        function populateTestCases() {
            const testCases = [
                { input: '‡ß¶‡ßß‡ß≠‡ß≠‡ß≠‡ßß‡ß≠‡ß©‡ß¶‡ß™‡ß¶', expected: '01777173040' },
                { input: '‡ß¶‡ßß‡ßÆ‡ßÆ‡ßÆ‡ßß‡ß®‡ß©‡ß™‡ß´‡ß¨', expected: '01888123456' },
                { input: '‡ß¶‡ßß‡ßØ‡ßØ‡ßØ‡ßÆ‡ßÆ‡ß≠‡ß≠‡ß¨‡ß¨', expected: '01999887766' },
                { input: '‡ß¶‡ßß‡ß´‡ß´‡ß´‡ß¨‡ß¨‡ß¨‡ß≠‡ß≠‡ß≠', expected: '01555666777' },
                { input: '+‡ßÆ‡ßÆ‡ß¶‡ßß‡ß≠‡ß≠‡ß≠‡ßß‡ß≠‡ß©‡ß¶‡ß™‡ß¶', expected: '01777173040' },
                { input: '‡ßÆ‡ßÆ‡ß¶‡ßß‡ßÆ‡ßÆ‡ßÆ‡ßß‡ß®‡ß©‡ß™‡ß´‡ß¨', expected: '01888123456' },
                { input: '‡ß¶‡ßß‡ß≠‡ß≠‡ß≠-‡ßß‡ß≠‡ß©‡ß¶‡ß™‡ß¶', expected: '01777173040' },
                { input: '‡ß¶‡ßß‡ß≠‡ß≠‡ß≠ ‡ßß‡ß≠‡ß©‡ß¶‡ß™‡ß¶', expected: '01777173040' }
            ];
            
            const testCasesContainer = document.getElementById('test_cases');
            
            testCases.forEach((testCase, index) => {
                const actual = normalizePhoneNumber(testCase.input);
                const isSuccess = actual === testCase.expected;
                
                const testCaseElement = document.createElement('div');
                testCaseElement.className = 'test-case';
                testCaseElement.innerHTML = `
                    <div>
                        <strong>‡¶ü‡ßá‡¶∏‡ßç‡¶ü ${index + 1}:</strong>
                        <span class="test-input">${testCase.input}</span>
                    </div>
                    <div>
                        <span class="test-output">${actual}</span>
                        ${isSuccess ? '‚úÖ' : '‚ùå'}
                    </div>
                `;
                
                if (!isSuccess) {
                    testCaseElement.style.borderLeft = '4px solid var(--danger-color)';
                } else {
                    testCaseElement.style.borderLeft = '4px solid var(--success-color)';
                }
                
                testCasesContainer.appendChild(testCaseElement);
            });
        }
    </script>
</body>
</html>